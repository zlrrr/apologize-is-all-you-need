# ðŸ” å‰ç«¯çŽ¯å¢ƒå˜é‡è¯Šæ–­ - ä»è®¿é—® localhost é—®é¢˜

## å…³é”®é—®é¢˜ç¡®è®¤

**æ‚¨å½“å‰è®¿é—®çš„å‰ç«¯ URL æ˜¯å“ªä¸ªï¼Ÿ**

### æƒ…å†µ Aï¼šè®¿é—® Vercel éƒ¨ç½²çš„å‰ç«¯ â­
```
https://apologize-is-all-you-need-web.vercel.app
```
â†’ **å¦‚æžœæ˜¯è¿™ä¸ªï¼Œè¯·è·³åˆ°"Vercel éƒ¨ç½²é—®é¢˜è¯Šæ–­"**

### æƒ…å†µ Bï¼šè®¿é—®æœ¬åœ°è¿è¡Œçš„å‰ç«¯
```
http://localhost:5173
æˆ–
http://localhost:3000
æˆ–å…¶ä»–æœ¬åœ°ç«¯å£
```
â†’ **å¦‚æžœæ˜¯è¿™ä¸ªï¼Œè¯·è·³åˆ°"æœ¬åœ°å¼€å‘çŽ¯å¢ƒé…ç½®"**

---

## ðŸ“Š Vercel éƒ¨ç½²é—®é¢˜è¯Šæ–­

### æ£€æŸ¥æ¸…å•

è¯·é€é¡¹ç¡®è®¤ï¼š

#### âœ… æ­¥éª¤ 1ï¼šç¡®è®¤è®¿é—®çš„æ˜¯ Vercel éƒ¨ç½²ç‰ˆæœ¬

**åœ¨æµè§ˆå™¨åœ°å€æ ç¡®è®¤**ï¼š
- âœ… åœ°å€æ˜¯ï¼š`https://apologize-is-all-you-need-web.vercel.app`
- âŒ **ä¸æ˜¯**ï¼š`localhost:5173` æˆ– `localhost:3000`

**å¦‚æžœæ˜¯ localhost**ï¼š
æ‚¨åœ¨è®¿é—®æœ¬åœ°å¼€å‘ç‰ˆæœ¬ï¼Œä¸æ˜¯ Vercel éƒ¨ç½²ç‰ˆæœ¬ï¼è¯·ï¼š
1. åœæ­¢æœ¬åœ°å¼€å‘æœåŠ¡å™¨ï¼ˆCtrl+Cï¼‰
2. è®¿é—® Vercel éƒ¨ç½²åœ°å€

---

#### âœ… æ­¥éª¤ 2ï¼šç¡®è®¤çŽ¯å¢ƒå˜é‡å·²è®¾ç½®

1. è®¿é—®ï¼šhttps://vercel.com/dashboard
2. ç‚¹å‡»é¡¹ç›® â†’ Settings â†’ Environment Variables
3. æ£€æŸ¥ï¼šæ˜¯å¦æœ‰ `VITE_API_URL` å˜é‡ï¼Ÿ

**å¦‚æžœæ²¡æœ‰**ï¼š
- æŒ‰ç…§ `VERCEL_ENV_FIX_GUIDE.md` æ·»åŠ çŽ¯å¢ƒå˜é‡
- Name: `VITE_API_URL`
- Value: `https://apologize-is-all-you-need.onrender.com`
- Environments: âœ… Production âœ… Preview âœ… Development

**å¦‚æžœæœ‰ï¼Œä½†å€¼ä¸å¯¹**ï¼š
- ç‚¹å‡» Edit ä¿®æ”¹
- ç¡®ä¿å€¼æ˜¯ï¼š`https://apologize-is-all-you-need.onrender.com`ï¼ˆæ³¨æ„æ˜¯ httpsï¼Œæ²¡æœ‰æœ«å°¾æ–œæ ï¼‰

---

#### âœ… æ­¥éª¤ 3ï¼šç¡®è®¤å·²é‡æ–°éƒ¨ç½²

**é‡è¦**ï¼šæ·»åŠ /ä¿®æ”¹çŽ¯å¢ƒå˜é‡åŽï¼Œå¿…é¡»é‡æ–°éƒ¨ç½²ï¼

1. Vercel Dashboard â†’ Deployments æ ‡ç­¾
2. æŸ¥çœ‹æœ€æ–°çš„éƒ¨ç½²æ—¶é—´

**é—®é¢˜**ï¼šæœ€æ–°éƒ¨ç½²æ˜¯ä»€ä¹ˆæ—¶å€™ï¼Ÿ
- å¦‚æžœæ˜¯çŽ¯å¢ƒå˜é‡ä¿®æ”¹**ä¹‹å‰**çš„æ—¶é—´ â†’ éœ€è¦é‡æ–°éƒ¨ç½²
- å¦‚æžœæ˜¯çŽ¯å¢ƒå˜é‡ä¿®æ”¹**ä¹‹åŽ**çš„æ—¶é—´ â†’ å·²é‡æ–°éƒ¨ç½²

**å¦‚ä½•é‡æ–°éƒ¨ç½²**ï¼š
1. Deployments æ ‡ç­¾
2. æœ€æ–°éƒ¨ç½² â†’ å³ä¾§ "..." èœå• â†’ **Redeploy**
3. ç¡®è®¤å¹¶ç­‰å¾… 2-3 åˆ†é’Ÿ

---

#### âœ… æ­¥éª¤ 4ï¼šæ¸…é™¤æµè§ˆå™¨ç¼“å­˜

å³ä½¿é‡æ–°éƒ¨ç½²äº†ï¼Œæµè§ˆå™¨å¯èƒ½ç¼“å­˜äº†æ—§ç‰ˆæœ¬ã€‚

**æ–¹æ³• 1ï¼šå¼ºåˆ¶åˆ·æ–°**ï¼ˆæœ€å¿«ï¼‰
- Windows/Linux: `Ctrl + Shift + R`
- Mac: `Cmd + Shift + R`

**æ–¹æ³• 2ï¼šæ¸…é™¤ç¼“å­˜**ï¼ˆå½»åº•ï¼‰
1. `Ctrl + Shift + Delete` æ‰“å¼€æ¸…é™¤æ•°æ®å¯¹è¯æ¡†
2. é€‰æ‹©ï¼š
   - âœ… ç¼“å­˜çš„å›¾ç‰‡å’Œæ–‡ä»¶
   - âœ… Cookie å’Œå…¶ä»–ç½‘ç«™æ•°æ®ï¼ˆå¯é€‰ï¼‰
3. æ—¶é—´èŒƒå›´ï¼šè¿‡åŽ» 1 å°æ—¶
4. ç‚¹å‡»"æ¸…é™¤æ•°æ®"
5. åˆ·æ–°é¡µé¢

**æ–¹æ³• 3ï¼šæ— ç—•æ¨¡å¼**ï¼ˆæµ‹è¯•ç”¨ï¼‰
- `Ctrl + Shift + N` æ‰“å¼€æ— ç—•çª—å£
- è®¿é—® `https://apologize-is-all-you-need-web.vercel.app`
- æµ‹è¯•æ˜¯å¦ä»è®¿é—® localhost

---

#### âœ… æ­¥éª¤ 5ï¼šéªŒè¯çŽ¯å¢ƒå˜é‡æ˜¯å¦ç”Ÿæ•ˆ

**åœ¨ Vercel éƒ¨ç½²çš„å‰ç«¯é¡µé¢**ï¼š

1. æŒ‰ **F12** æ‰“å¼€å¼€å‘è€…å·¥å…·
2. åˆ‡æ¢åˆ° **Console** æ ‡ç­¾
3. è¾“å…¥å¹¶å›žè½¦ï¼š
   ```javascript
   console.log(import.meta.env.VITE_API_URL)
   ```

**æœŸæœ›è¾“å‡º**ï¼š
```
"https://apologize-is-all-you-need.onrender.com"
```

**å¦‚æžœè¾“å‡º undefined**ï¼š
- çŽ¯å¢ƒå˜é‡æœªç”Ÿæ•ˆ
- æ£€æŸ¥ï¼š
  1. çŽ¯å¢ƒå˜é‡åæ˜¯å¦å®Œå…¨æ­£ç¡®ï¼š`VITE_API_URL`ï¼ˆæ³¨æ„å¤§å°å†™ï¼‰
  2. æ˜¯å¦å‹¾é€‰äº† Production çŽ¯å¢ƒ
  3. æ˜¯å¦åœ¨çŽ¯å¢ƒå˜é‡ä¿å­˜åŽé‡æ–°éƒ¨ç½²äº†

**å¦‚æžœè¾“å‡ºæ­£ç¡®çš„ URL**ï¼š
- çŽ¯å¢ƒå˜é‡å·²ç”Ÿæ•ˆ âœ…
- ä½†å‰ç«¯ä»è®¿é—® localhost â†’ ç»§ç»­ä¸‹ä¸€æ­¥

---

#### âœ… æ­¥éª¤ 6ï¼šæ£€æŸ¥ Network è¯·æ±‚

1. å¼€å‘è€…å·¥å…· â†’ **Network** æ ‡ç­¾
2. åˆ·æ–°é¡µé¢ï¼ˆF5ï¼‰
3. åœ¨ Network åˆ—è¡¨ä¸­æ‰¾åˆ°ï¼š
   - `/api/health`
   - `/api/auth/status`

4. ç‚¹å‡»ä»»ä¸€è¯·æ±‚ï¼ŒæŸ¥çœ‹ **Headers** æ ‡ç­¾

**æŸ¥çœ‹ Request URL**ï¼š
```
æœŸæœ›ï¼šhttps://apologize-is-all-you-need.onrender.com/api/health
å®žé™…ï¼š___________________________
```

**å¦‚æžœä»æ˜¯ localhost:5001**ï¼š
- å¯èƒ½åŽŸå› ï¼š
  1. æµè§ˆå™¨ç¼“å­˜äº†æ—§çš„ JavaScript æ–‡ä»¶
  2. CDN ç¼“å­˜æœªæ›´æ–°
  3. Service Worker ç¼“å­˜ï¼ˆå¦‚æžœä½¿ç”¨äº† PWAï¼‰

**è§£å†³æ–¹æ³•**ï¼š
1. ç¡¬åˆ·æ–°ï¼ˆCtrl+Shift+Rï¼‰Ã— 3 æ¬¡
2. ç­‰å¾… 5-10 åˆ†é’Ÿè®© CDN æ›´æ–°
3. æ— ç—•æ¨¡å¼æµ‹è¯•
4. æ£€æŸ¥æ˜¯å¦æœ‰ Service Workerï¼š
   - å¼€å‘è€…å·¥å…· â†’ Application æ ‡ç­¾ â†’ Service Workers
   - å¦‚æžœæœ‰ï¼Œç‚¹å‡» "Unregister"

---

## ðŸ  æœ¬åœ°å¼€å‘çŽ¯å¢ƒé…ç½®

### å¦‚æžœæ‚¨åœ¨æœ¬åœ°è¿è¡Œå‰ç«¯

**åˆ›å»ºæœ¬åœ°çŽ¯å¢ƒå˜é‡æ–‡ä»¶**ï¼š

1. åœ¨ `frontend/` ç›®å½•åˆ›å»º `.env` æ–‡ä»¶ï¼š

```bash
cd /home/user/apologize-is-all-you-need/frontend
cat > .env << 'EOF'
VITE_API_URL=https://apologize-is-all-you-need.onrender.com
EOF
```

2. é‡å¯å¼€å‘æœåŠ¡å™¨ï¼š
```bash
# åœæ­¢å½“å‰æœåŠ¡å™¨ï¼ˆCtrl+Cï¼‰
# é‡æ–°å¯åŠ¨
npm run dev
```

3. åˆ·æ–°æµè§ˆå™¨é¡µé¢

4. æµ‹è¯•ï¼š
```javascript
console.log(import.meta.env.VITE_API_URL)
// åº”è¾“å‡ºï¼šhttps://apologize-is-all-you-need.onrender.com
```

---

## ðŸ”¬ æ·±åº¦è¯Šæ–­

### æ£€æŸ¥ Vercel æž„å»ºæ—¥å¿—

1. Vercel Dashboard â†’ Deployments
2. ç‚¹å‡»æœ€æ–°çš„éƒ¨ç½²
3. ç‚¹å‡» **"View Build Logs"** æˆ– **"View Function Logs"**
4. æœç´¢ï¼ˆCtrl+Fï¼‰ï¼š`VITE_API_URL`

**æœŸæœ›çœ‹åˆ°**ï¼š
```
Environment Variables:
  VITE_API_URL=https://apologize-is-all-you-need.onrender.com
```

**å¦‚æžœæ—¥å¿—ä¸­æ²¡æœ‰è¿™ä¸ªçŽ¯å¢ƒå˜é‡**ï¼š
- é—®é¢˜ç¡®è®¤ï¼šçŽ¯å¢ƒå˜é‡æœªåº”ç”¨åˆ°æž„å»º
- è§£å†³ï¼š
  1. å†æ¬¡æ£€æŸ¥çŽ¯å¢ƒå˜é‡æ˜¯å¦å‹¾é€‰äº† Production
  2. åˆ é™¤çŽ¯å¢ƒå˜é‡é‡æ–°æ·»åŠ 
  3. å¼ºåˆ¶é‡æ–°éƒ¨ç½²ï¼ˆä¸ä½¿ç”¨ç¼“å­˜ï¼‰

---

### å¼ºåˆ¶æ— ç¼“å­˜é‡æ–°éƒ¨ç½²

1. Vercel Dashboard â†’ Deployments
2. æœ€æ–°éƒ¨ç½² â†’ "..." èœå• â†’ Redeploy
3. åœ¨å¼¹å‡ºå¯¹è¯æ¡†ä¸­ï¼š
   - âŒ **å–æ¶ˆå‹¾é€‰** "Use existing Build Cache"
   - âœ… ç‚¹å‡» Redeploy

è¿™å°†å¼ºåˆ¶ Vercel å®Œå…¨é‡æ–°æž„å»ºï¼Œä¸ä½¿ç”¨ä»»ä½•ç¼“å­˜ã€‚

---

## ðŸ“ž è¯·æä¾›ä»¥ä¸‹ä¿¡æ¯

ä¸ºäº†æ›´ç²¾ç¡®åœ°è¯Šæ–­é—®é¢˜ï¼Œè¯·å›žç­”ï¼š

### 1. è®¿é—®åœ°å€
```
æˆ‘å½“å‰è®¿é—®çš„å‰ç«¯åœ°å€æ˜¯ï¼š
â˜ https://apologize-is-all-you-need-web.vercel.app (Vercel)
â˜ http://localhost:____ (æœ¬åœ°)
```

### 2. çŽ¯å¢ƒå˜é‡æ£€æŸ¥
```
Vercel Environment Variables é¡µé¢æ˜¾ç¤ºï¼š
â˜ æœ‰ VITE_API_URL å˜é‡
â˜ æ²¡æœ‰ VITE_API_URL å˜é‡

å¦‚æžœæœ‰ï¼Œå€¼æ˜¯ï¼š___________________________
å‹¾é€‰çš„çŽ¯å¢ƒï¼šâ˜ Production â˜ Preview â˜ Development
```

### 3. éƒ¨ç½²æ—¶é—´
```
Vercel Deployments é¡µé¢ï¼š
æœ€æ–°éƒ¨ç½²æ—¶é—´ï¼š___________________________
çŽ¯å¢ƒå˜é‡ä¿®æ”¹æ—¶é—´ï¼š___________________________
ï¼ˆæœ€æ–°éƒ¨ç½²æ—¶é—´åº”è¯¥æ™šäºŽçŽ¯å¢ƒå˜é‡ä¿®æ”¹æ—¶é—´ï¼‰
```

### 4. Console è¾“å‡º
```
æµè§ˆå™¨æŽ§åˆ¶å°è¾“å…¥ console.log(import.meta.env.VITE_API_URL)
è¾“å‡ºï¼š___________________________
```

### 5. Network è¯·æ±‚
```
F12 â†’ Network æ ‡ç­¾ â†’ /api/health è¯·æ±‚
Request URL: ___________________________
```

### 6. ç¼“å­˜æ¸…é™¤
```
æˆ‘å·²æ‰§è¡Œï¼š
â˜ Ctrl+Shift+R å¼ºåˆ¶åˆ·æ–°
â˜ æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
â˜ åœ¨æ— ç—•æ¨¡å¼æµ‹è¯•
```

---

## âš¡ å¿«é€Ÿè‡ªæŸ¥

è¯·æŒ‰é¡ºåºæ£€æŸ¥ï¼š

1. âœ… è®¿é—®çš„æ˜¯ `https://...vercel.app` ä¸æ˜¯ `localhost`
2. âœ… Vercel å·²è®¾ç½® `VITE_API_URL` çŽ¯å¢ƒå˜é‡
3. âœ… çŽ¯å¢ƒå˜é‡ä¿å­˜åŽå·²é‡æ–°éƒ¨ç½²
4. âœ… æœ€æ–°éƒ¨ç½²çŠ¶æ€æ˜¯ "Ready"
5. âœ… å·²æ¸…é™¤æµè§ˆå™¨ç¼“å­˜æˆ–å¼ºåˆ¶åˆ·æ–°
6. âœ… Console æ˜¾ç¤ºæ­£ç¡®çš„ VITE_API_URL
7. âœ… Network è¯·æ±‚å‘é€åˆ° Render åœ°å€

**å¦‚æžœå‰ 6 é¡¹éƒ½ âœ…ï¼Œä½†ç¬¬ 7 é¡¹ä»æ˜¯ localhost**ï¼š
- ç­‰å¾… 5-10 åˆ†é’Ÿï¼ˆCDN ç¼“å­˜æ›´æ–°ï¼‰
- ä½¿ç”¨æ— ç—•æ¨¡å¼æµ‹è¯•
- æˆ–æä¾›ä¸Šè¿°ä¿¡æ¯è®©æˆ‘æ·±åº¦è¯Šæ–­

---

**è¯·æä¾›ä¸Šè¿°"è¯·æä¾›ä»¥ä¸‹ä¿¡æ¯"éƒ¨åˆ†çš„ç­”æ¡ˆï¼Œæˆ‘å°†ç²¾ç¡®å®šä½é—®é¢˜ï¼** ðŸ”
